#░█████╗░███╗░░░███╗██████╗░░░░░░░░█████╗░░░░░░░███╗░░░███╗░█████╗░███╗░░██╗░█████╗░███████╗██████╗░
#██╔══██╗████╗░████║██╔══██╗░░░░░░██╔══██╗░░░░░░████╗░████║██╔══██╗████╗░██║██╔══██╗██╔════╝██╔══██╗
#██║░░╚═╝██╔████╔██║██║░░██║█████╗██║░░██║█████╗██╔████╔██║███████║██╔██╗██║██║░░╚═╝█████╗░░██████╔╝
#██║░░██╗██║╚██╔╝██║██║░░██║╚════╝██║░░██║╚════╝██║╚██╔╝██║██╔══██║██║╚████║██║░░██╗██╔══╝░░██╔══██╗
#╚█████╔╝██║░╚═╝░██║██████╔╝░░░░░░╚█████╔╝░░░░░░██║░╚═╝░██║██║░░██║██║░╚███║╚█████╔╝███████╗██║░░██║
#░╚════╝░╚═╝░░░░░╚═╝╚═════╝░░░░░░░░╚════╝░░░░░░░╚═╝░░░░░╚═╝╚═╝░░╚═╝╚═╝░░╚══╝░╚════╝░╚══════╝╚═╝░░╚═╝
# MADE BY YOSHARU
# TG @yosharu
# COPYRIGHT 2022 YOSHARU LOL
#
# CAUTION: IDIOTIC PYTHON CODING AHEAD.
from time import sleep
import requests
from colorama import init, Fore
import sys
from pyfiglet import figlet_format
from termcolor import cprint
from web3 import Web3
import datetime as dt
init(autoreset=True, strip=not sys.stdout.isatty()) # strip colors if stdout is redirected

## SETTINGS:
DEX='PANCAKESWAP'
TICKER='BNB'
ADDRESS=''
PRIVATE_KEY=''
GAS = 400000
GAS_PRICE = 5000000000

## BEGIN CODE
if ADDRESS == '' or PRIVATE_KEY == '':
    print(Fore.RED + 'NO ADDRESS/PRIVATE KEY FOUND! QUITTING...')
    quit()


#find lowest latency RPC for fastest bet
def find_closest_rpc():
    print(Fore.YELLOW + 'Finding RPC with lowest latency...')
    rpc_response_time_list = []
    rpc_lists = ['https://binance.nodereal.io', 'https://binance.ankr.com/', 'https://rpc-bsc.bnb48.club/', 'https://bsc-dataseed1.binance.org', 'https://bsc-dataseed2.binance.org', 'https://bsc-dataseed3.binance.org', 'https://bsc-dataseed4.binance.org', 'https://bsc-dataseed1.defibit.io', 'https://bsc-dataseed2.defibit.io', 'https://bsc-dataseed3.defibit.io', 'https://bsc-dataseed4.defibit.io', 'https://bsc-dataseed1.ninicoin.io', 'https://bsc-dataseed2.ninicoin.io', 'https://bsc-dataseed3.ninicoin.io', 'https://bsc-dataseed4.ninicoin.io', 'https://bscrpc.com']
    for i in rpc_lists:
        rpc_response_time = requests.post(i).elapsed.total_seconds()
        rpc_response_time_list.append(rpc_response_time)
    best_rpc = min(rpc_response_time_list)
    best_rpc = rpc_response_time_list.index(best_rpc)
    best_rpc = rpc_lists[best_rpc]
    return best_rpc

RPC = find_closest_rpc()
w3 = Web3(Web3.HTTPProvider(RPC))


# PANCAKESWAP CONTRACT
# V2 CONTRACT
PCS_PREDICTION_CONTRACT = w3.eth.contract(address='0x18B2A687610328590Bc8F2e5fEdDe3b582A49cdA', abi=[{"inputs":[{"internalType":"address","name":"_oracleAddress","type":"address"},{"internalType":"address","name":"_adminAddress","type":"address"},{"internalType":"address","name":"_operatorAddress","type":"address"},{"internalType":"uint256","name":"_intervalSeconds","type":"uint256"},{"internalType":"uint256","name":"_bufferSeconds","type":"uint256"},{"internalType":"uint256","name":"_minBetAmount","type":"uint256"},{"internalType":"uint256","name":"_oracleUpdateAllowance","type":"uint256"},{"internalType":"uint256","name":"_treasuryFee","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "address", "name": "sender", "type": "address"}, {"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "amount", "type": "uint256"}], "name": "BetBear", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "address", "name": "sender", "type": "address"}, {"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "amount", "type": "uint256"}], "name": "BetBull", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "address", "name": "sender", "type": "address"}, {"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "amount", "type": "uint256"}], "name": "Claim", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": True, "internalType": "uint256", "name": "roundId", "type": "uint256"}, {"indexed": False, "internalType": "int256", "name": "price", "type": "int256"}], "name": "EndRound", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": True, "internalType": "uint256", "name": "roundId", "type": "uint256"}, {"indexed": False, "internalType": "int256", "name": "price", "type": "int256"}], "name": "LockRound", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "address", "name": "admin", "type": "address"}], "name": "NewAdminAddress", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "uint256", "name": "bufferSeconds", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "intervalSeconds", "type": "uint256"}], "name": "NewBufferAndIntervalSeconds", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "minBetAmount", "type": "uint256"}], "name": "NewMinBetAmount", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "address", "name": "operator", "type": "address"}], "name": "NewOperatorAddress", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "address", "name": "oracle", "type": "address"}], "name": "NewOracle", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "uint256", "name": "oracleUpdateAllowance", "type": "uint256"}], "name": "NewOracleUpdateAllowance", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "treasuryFee", "type": "uint256"}], "name": "NewTreasuryFee", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "address", "name": "previousOwner", "type": "address"}, {"indexed": True, "internalType": "address", "name": "newOwner", "type": "address"}], "name": "OwnershipTransferred", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}], "name": "Pause", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "address", "name": "account", "type": "address"}], "name": "Paused", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "rewardBaseCalAmount", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "rewardAmount", "type": "uint256"}, {"indexed": False, "internalType": "uint256", "name": "treasuryAmount", "type": "uint256"}], "name": "RewardsCalculated", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}], "name": "StartRound", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "address", "name": "token", "type": "address"}, {"indexed": False, "internalType": "uint256", "name": "amount", "type": "uint256"}], "name": "TokenRecovery", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "uint256", "name": "amount", "type": "uint256"}], "name": "TreasuryClaim", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": True, "internalType": "uint256", "name": "epoch", "type": "uint256"}], "name": "Unpause", "type": "event"}, {"anonymous": False, "inputs":[{"indexed": False, "internalType": "address", "name": "account", "type": "address"}], "name": "Unpaused", "type": "event"}, {"inputs":[], "name": "MAX_TREASURY_FEE", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "adminAddress", "outputs":[{"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "epoch", "type": "uint256"}], "name": "betBear", "outputs":[], "stateMutability": "payable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "epoch", "type": "uint256"}], "name": "betBull", "outputs":[], "stateMutability": "payable", "type": "function"}, {"inputs":[], "name": "bufferSeconds", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[{"internalType": "uint256[]", "name": "epochs", "type": "uint256[]"}], "name": "claim", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[], "name": "claimTreasury", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "epoch", "type": "uint256"}, {"internalType": "address", "name": "user", "type": "address"}], "name": "claimable", "outputs":[{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "currentEpoch", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "executeRound", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[], "name": "genesisLockOnce", "outputs":[{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "genesisLockRound", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[], "name": "genesisStartOnce", "outputs":[{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "genesisStartRound", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "address", "name": "user", "type": "address"}, {"internalType": "uint256", "name": "cursor", "type": "uint256"}, {"internalType": "uint256", "name": "size", "type": "uint256"}], "name": "getUserRounds", "outputs":[{"internalType": "uint256[]", "name": "", "type": "uint256[]"}, {"components":[{"internalType": "enum PancakePredictionV2.Position", "name": "position", "type": "uint8"}, {"internalType": "uint256", "name": "amount", "type": "uint256"}, {"internalType": "bool", "name": "claimed", "type": "bool"}], "internalType": "struct PancakePredictionV2.BetInfo[]", "name": "", "type": "tuple[]"}, {"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[{"internalType": "address", "name": "user", "type": "address"}], "name": "getUserRoundsLength", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "intervalSeconds", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "", "type": "uint256"}, {"internalType": "address", "name": "", "type": "address"}], "name": "ledger", "outputs":[{"internalType": "enum PancakePredictionV2.Position", "name": "position", "type": "uint8"}, {"internalType": "uint256", "name": "amount", "type": "uint256"}, {"internalType": "bool", "name": "claimed", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "minBetAmount", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "operatorAddress", "outputs":[{"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "oracle", "outputs":[{"internalType": "contract AggregatorV3Interface", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "oracleLatestRoundId", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "oracleUpdateAllowance", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "owner", "outputs":[{"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "pause", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[], "name": "paused", "outputs":[{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs":[{"internalType": "address", "name": "_token", "type": "address"}, {"internalType": "uint256", "name": "_amount", "type": "uint256"}], "name": "recoverToken", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "epoch", "type": "uint256"}, {"internalType": "address", "name": "user", "type": "address"}], "name": "refundable", "outputs":[{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "renounceOwnership", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "name": "rounds", "outputs":[{"internalType": "uint256", "name": "epoch", "type": "uint256"}, {"internalType": "uint256", "name": "startTimestamp", "type": "uint256"}, {"internalType": "uint256", "name": "lockTimestamp", "type": "uint256"}, {"internalType": "uint256", "name": "closeTimestamp", "type": "uint256"}, {"internalType": "int256", "name": "lockPrice", "type": "int256"}, {"internalType": "int256", "name": "closePrice", "type": "int256"}, {"internalType": "uint256", "name": "lockOracleId", "type": "uint256"}, {"internalType": "uint256", "name": "closeOracleId", "type": "uint256"}, {"internalType": "uint256", "name": "totalAmount", "type": "uint256"}, {"internalType": "uint256", "name": "bullAmount", "type": "uint256"}, {"internalType": "uint256", "name": "bearAmount", "type": "uint256"}, {"internalType": "uint256", "name": "rewardBaseCalAmount", "type": "uint256"}, {"internalType": "uint256", "name": "rewardAmount", "type": "uint256"}, {"internalType": "bool", "name": "oracleCalled", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs":[{"internalType": "address", "name": "_adminAddress", "type": "address"}], "name": "setAdmin", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "_bufferSeconds", "type": "uint256"}, {"internalType": "uint256", "name": "_intervalSeconds", "type": "uint256"}], "name": "setBufferAndIntervalSeconds", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "_minBetAmount", "type": "uint256"}], "name": "setMinBetAmount", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "address", "name": "_operatorAddress", "type": "address"}], "name": "setOperator", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "address", "name": "_oracle", "type": "address"}], "name": "setOracle", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "_oracleUpdateAllowance", "type": "uint256"}], "name": "setOracleUpdateAllowance", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "uint256", "name": "_treasuryFee", "type": "uint256"}], "name": "setTreasuryFee", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "address", "name": "newOwner", "type": "address"}], "name": "transferOwnership", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[], "name": "treasuryAmount", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "treasuryFee", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs":[], "name": "unpause", "outputs":[], "stateMutability": "nonpayable", "type": "function"}, {"inputs":[{"internalType": "address", "name": "", "type": "address"}, {"internalType": "uint256", "name": "", "type": "uint256"}], "name": "userRounds", "outputs":[{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}])

# CANDLEGENIE CONTRACT
CANDLEGENIE_BNB_CONTRACT = w3.eth.contract(address='0xF9120F473a3B3Ef24855Cd172cf741726E36eBF0', abi=[{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"BearBet","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"BullBet","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Claimed","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"minBetAmount","type":"uint256"}],"name":"MinBetAmountUpdated","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"previousOwner","type":"address"},{"indexed": True,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"Paused","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Refunded","type":"event"},{"anonymous": False,"inputs":[{"indexed": False,"internalType":"uint256","name":"roundDuration","type":"uint256"}],"name":"RoundDuratioUpdated","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"int256","name":"price","type":"int256"}],"name":"RoundEnded","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"RoundEndedCancelled","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"int256","name":"price","type":"int256"}],"name":"RoundLocked","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"RoundStarted","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"BetBear","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"BetBull","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"Bets","outputs":[{"internalType":"enum CandleGeniePrediction.Position","name":"position","type":"uint8"},{"internalType":"uint256","name":"betTimestamp","type":"uint256"},{"internalType":"uint256","name":"claimTimestamp","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"claimed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"epochs","type":"uint256[]"}],"name":"Claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"epochs","type":"uint256[]"},{"internalType":"address","name":"referrer","type":"address"}],"name":"ClaimReferred","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"FeedOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"FundsExtract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"FundsInject","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"OwnershipRenounce","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"Pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"Resume","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"RoundCancel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"price","type":"int256"},{"internalType":"uint256","name":"houseBetBullAmount","type":"uint256"},{"internalType":"uint256","name":"houseBetBearAmount","type":"uint256"}],"name":"RoundExecute","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"price","type":"int256"}],"name":"RoundLock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"RoundStart","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"Rounds","outputs":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"uint256","name":"bullAmount","type":"uint256"},{"internalType":"uint256","name":"bearAmount","type":"uint256"},{"internalType":"uint256","name":"rewardBaseCalAmount","type":"uint256"},{"internalType":"uint256","name":"rewardAmount","type":"uint256"},{"internalType":"int256","name":"lockPrice","type":"int256"},{"internalType":"int256","name":"closePrice","type":"int256"},{"internalType":"uint32","name":"startTimestamp","type":"uint32"},{"internalType":"uint32","name":"lockTimestamp","type":"uint32"},{"internalType":"uint32","name":"closeTimestamp","type":"uint32"},{"internalType":"bool","name":"closed","type":"bool"},{"internalType":"bool","name":"cancelled","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minBetAmount","type":"uint256"}],"name":"SetMinBetAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_operator","type":"address"}],"name":"SetOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_priceSource","type":"string"}],"name":"SetPriceSource","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_referralsContract","type":"address"}],"name":"SetReferralsContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_rate","type":"uint256"}],"name":"SetReferralsRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_rewardRate","type":"uint256"}],"name":"SetRewardRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_roundDuration","type":"uint256"}],"name":"SetRoundDuration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_value","type":"bool"}],"name":"SetShowPlayers","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"UserBets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"address","name":"user","type":"address"}],"name":"claimable","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentEpoch","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"getRound","outputs":[{"components":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"uint256","name":"bullAmount","type":"uint256"},{"internalType":"uint256","name":"bearAmount","type":"uint256"},{"internalType":"uint256","name":"rewardBaseCalAmount","type":"uint256"},{"internalType":"uint256","name":"rewardAmount","type":"uint256"},{"internalType":"int256","name":"lockPrice","type":"int256"},{"internalType":"int256","name":"closePrice","type":"int256"},{"internalType":"uint32","name":"startTimestamp","type":"uint32"},{"internalType":"uint32","name":"lockTimestamp","type":"uint32"},{"internalType":"uint32","name":"closeTimestamp","type":"uint32"},{"internalType":"bool","name":"closed","type":"bool"},{"internalType":"bool","name":"cancelled","type":"bool"},{"internalType":"address[]","name":"players","type":"address[]"}],"internalType":"struct CandleGeniePrediction.Round","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"getRoundPlayers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getStats","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"cursor","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"name":"getUserRounds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"components":[{"internalType":"enum CandleGeniePrediction.Position","name":"position","type":"uint8"},{"internalType":"uint256","name":"betTimestamp","type":"uint256"},{"internalType":"uint256","name":"claimTimestamp","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"claimed","type":"bool"}],"internalType":"struct CandleGeniePrediction.Bet[]","name":"","type":"tuple[]"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUserRoundsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockOnce","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minBetAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceSource","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"referralRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"address","name":"user","type":"address"}],"name":"refundable","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"roundDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"startOnce","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}])
CANDLEGENIE_BTC_CONTRACT = w3.eth.contract(address='0xF10efD8BAB73499c6D32ad77266b9CC6C6B806B4', abi=[{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"BearBet","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"BullBet","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Claimed","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"minBetAmount","type":"uint256"}],"name":"MinBetAmountUpdated","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"previousOwner","type":"address"},{"indexed": True,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"Paused","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"address","name":"sender","type":"address"},{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Refunded","type":"event"},{"anonymous": False,"inputs":[{"indexed": False,"internalType":"uint256","name":"roundDuration","type":"uint256"}],"name":"RoundDuratioUpdated","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"int256","name":"price","type":"int256"}],"name":"RoundEnded","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"RoundEndedCancelled","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"},{"indexed": False,"internalType":"int256","name":"price","type":"int256"}],"name":"RoundLocked","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"RoundStarted","type":"event"},{"anonymous": False,"inputs":[{"indexed": True,"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"BetBear","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"BetBull","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"Bets","outputs":[{"internalType":"enum CandleGeniePrediction.Position","name":"position","type":"uint8"},{"internalType":"uint256","name":"betTimestamp","type":"uint256"},{"internalType":"uint256","name":"claimTimestamp","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"claimed","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"epochs","type":"uint256[]"}],"name":"Claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"epochs","type":"uint256[]"},{"internalType":"address","name":"referrer","type":"address"}],"name":"ClaimReferred","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"FeedOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"FundsExtract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"FundsInject","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"OwnershipRenounce","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransfer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"Pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"Resume","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"RoundCancel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"price","type":"int256"},{"internalType":"uint256","name":"houseBetBullAmount","type":"uint256"},{"internalType":"uint256","name":"houseBetBearAmount","type":"uint256"}],"name":"RoundExecute","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"price","type":"int256"}],"name":"RoundLock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"RoundStart","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"Rounds","outputs":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"uint256","name":"bullAmount","type":"uint256"},{"internalType":"uint256","name":"bearAmount","type":"uint256"},{"internalType":"uint256","name":"rewardBaseCalAmount","type":"uint256"},{"internalType":"uint256","name":"rewardAmount","type":"uint256"},{"internalType":"int256","name":"lockPrice","type":"int256"},{"internalType":"int256","name":"closePrice","type":"int256"},{"internalType":"uint32","name":"startTimestamp","type":"uint32"},{"internalType":"uint32","name":"lockTimestamp","type":"uint32"},{"internalType":"uint32","name":"closeTimestamp","type":"uint32"},{"internalType":"bool","name":"closed","type":"bool"},{"internalType":"bool","name":"cancelled","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minBetAmount","type":"uint256"}],"name":"SetMinBetAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_operator","type":"address"}],"name":"SetOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_priceSource","type":"string"}],"name":"SetPriceSource","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_referralsContract","type":"address"}],"name":"SetReferralsContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_rate","type":"uint256"}],"name":"SetReferralsRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_rewardRate","type":"uint256"}],"name":"SetRewardRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_roundDuration","type":"uint256"}],"name":"SetRoundDuration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_value","type":"bool"}],"name":"SetShowPlayers","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"UserBets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"address","name":"user","type":"address"}],"name":"claimable","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentEpoch","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"getRound","outputs":[{"components":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"uint256","name":"bullAmount","type":"uint256"},{"internalType":"uint256","name":"bearAmount","type":"uint256"},{"internalType":"uint256","name":"rewardBaseCalAmount","type":"uint256"},{"internalType":"uint256","name":"rewardAmount","type":"uint256"},{"internalType":"int256","name":"lockPrice","type":"int256"},{"internalType":"int256","name":"closePrice","type":"int256"},{"internalType":"uint32","name":"startTimestamp","type":"uint32"},{"internalType":"uint32","name":"lockTimestamp","type":"uint32"},{"internalType":"uint32","name":"closeTimestamp","type":"uint32"},{"internalType":"bool","name":"closed","type":"bool"},{"internalType":"bool","name":"cancelled","type":"bool"},{"internalType":"address[]","name":"players","type":"address[]"}],"internalType":"struct CandleGeniePrediction.Round","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"}],"name":"getRoundPlayers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getStats","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"cursor","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"name":"getUserRounds","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"},{"components":[{"internalType":"enum CandleGeniePrediction.Position","name":"position","type":"uint8"},{"internalType":"uint256","name":"betTimestamp","type":"uint256"},{"internalType":"uint256","name":"claimTimestamp","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"claimed","type":"bool"}],"internalType":"struct CandleGeniePrediction.Bet[]","name":"","type":"tuple[]"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"getUserRoundsLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockOnce","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minBetAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceSource","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"referralRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"epoch","type":"uint256"},{"internalType":"address","name":"user","type":"address"}],"name":"refundable","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"roundDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"startOnce","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}])

if DEX == 'PANCAKESWAP':
    CONTRACT = PCS_PREDICTION_CONTRACT
elif DEX == 'CANDLEGENIE' and TICKER == 'BNB':
    CONTRACT = CANDLEGENIE_BNB_CONTRACT
elif DEX == 'CANDLEGENIE' and TICKER == 'BTC':
    CONTRACT = CANDLEGENIE_BTC_CONTRACT
def bet(side, BET_AMOUNT, DEX):
    epoch = CONTRACT.functions.currentEpoch().call()
    if DEX == 'PANCAKESWAP' and side == 'BULL':
        txn = CONTRACT.functions.betBull(epoch).buildTransaction({
            'from': ADDRESS,
            'nonce': w3.eth.getTransactionCount(ADDRESS),
            'value': w3.toWei(BET_AMOUNT, 'ether'),
            'gas': GAS,
            'gasPrice': GAS_PRICE,
        })
    elif DEX == 'CANDLEGENIE' and side == 'BULL':
        txn = CONTRACT.functions.BetBull(epoch).buildTransaction({
            'from': ADDRESS,
            'nonce': w3.eth.getTransactionCount(ADDRESS),
            'value': w3.toWei(BET_AMOUNT, 'ether'),
            'gas': GAS,
            'gasPrice': GAS_PRICE,
        })
    if DEX == 'PANCAKESWAP' and side == 'BEAR':
        txn = CONTRACT.functions.betBear(epoch).buildTransaction({
            'from': ADDRESS,
            'nonce': w3.eth.getTransactionCount(ADDRESS),
            'value': w3.toWei(BET_AMOUNT, 'ether'),
            'gas': GAS,
            'gasPrice': GAS_PRICE,
        })
    elif DEX == 'CANDLEGENIE' and side == 'BEAR':
        txn = CONTRACT.functions.BetBear(epoch).buildTransaction({
            'from': ADDRESS,
            'nonce': w3.eth.getTransactionCount(ADDRESS),
            'value': w3.toWei(BET_AMOUNT, 'ether'),
            'gas': GAS,
            'gasPrice': GAS_PRICE,
        })
    signed_txn = w3.eth.account.signTransaction(txn, private_key=PRIVATE_KEY)
    w3.eth.sendRawTransaction(signed_txn.rawTransaction)
    receipt = w3.eth.waitForTransactionReceipt(signed_txn.hash)
    if receipt['status'] == 0:
        print(Fore.RED + 'Transaction failed!')
    else:
        print(Fore.GREEN + 'Transaction successful!')

def new_round():
    current_epoch = CONTRACT.functions.currentEpoch().call()
    if DEX == 'PANCAKESWAP':
        data = CONTRACT.functions.rounds(current_epoch).call()
        whenBetCloses = dt.datetime.fromtimestamp(data[2])
    elif DEX == 'CANDLEGENIE':
        data = CONTRACT.functions.Rounds(current_epoch).call()
        whenBetCloses = dt.datetime.fromtimestamp(data[8])
    return whenBetCloses
def bet_seq():
    print(Fore.YELLOW + '#' + Fore.WHITE, CONTRACT.functions.currentEpoch().call())
    bet_side = input(Fore.YELLOW + 'Side: ' + Fore.WHITE)
    bet_side = str(bet_side.upper())
    if bet_side == '':
        print(Fore.CYAN + 'Next round...')
        print('')
        bet_seq()
    elif bet_side != 'BULL' and bet_side != 'BEAR':
        print(Fore.RED + 'Invalid side!')
        print('')
        bet_seq()
    try:
        bet_amount = float(input(Fore.YELLOW + 'Bet amount: ' + Fore.WHITE))
    except ValueError:
        print(Fore.RED + 'Invalid amount!')
        print('')
        bet_seq()
    print(Fore.CYAN + 'Betting...')
    bet(bet_side, float(bet_amount), DEX)
    print(Fore.YELLOW + 'Sleeping until next round...')
    while True:
        if dt.datetime.now()-dt.timedelta(0,10) >= new_round():
            bet_seq()
        else:
            sleep(1)

def run():
    try:
        rpc_response_time = requests.post(RPC).elapsed.total_seconds()
        rpc_response_time = round(rpc_response_time, 3)
        cprint(figlet_format(f'CMD-o-Mancer', font='cosmic', width = 125, justify="left"),
               'yellow')
        print(Fore.YELLOW + 'Ver 1.0')
        print(Fore.GREEN + 'MADE BY @YOSHARU!')
        print(Fore.YELLOW + f'RPC: {RPC} ({rpc_response_time}ms)')
        print(Fore.YELLOW + f'DEX: {DEX}')
        print(Fore.YELLOW + f'TICKER: {TICKER}')
        print(Fore.YELLOW + f'ADDRESS: {ADDRESS}')
        print(Fore.YELLOW + 'Notes: If round number is wrong hit enter to grab new one.')
        print('')

        bet_seq()
    except requests.exceptions.HTTPError:
        print(Fore.RED + f'RPC ({RPC}) 502 error, remove from list if it keeps happening...')
run()